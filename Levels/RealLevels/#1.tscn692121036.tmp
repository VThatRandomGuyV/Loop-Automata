[gd_scene load_steps=14 format=3 uid="uid://bcbt0afmhfaay"]

[ext_resource type="PackedScene" uid="uid://da03iuvf7b43e" path="res://Entities/Actions/attack.tscn" id="1_8g7bl"]
[ext_resource type="Script" uid="uid://d3vjw812275i4" path="res://Levels/RealLevels/#1.gd" id="1_gdk44"]
[ext_resource type="PackedScene" uid="uid://b7oqaudxpl7jw" path="res://Entities/visuals/tilemap_bottom.tscn" id="1_nwf4x"]
[ext_resource type="PackedScene" uid="uid://c4qhyfwh5lfck" path="res://Entities/Actions/block.tscn" id="2_yurju"]
[ext_resource type="PackedScene" uid="uid://sm4gcpyslk7u" path="res://Entities/Actions/box.tscn" id="3_nwf4x"]
[ext_resource type="PackedScene" uid="uid://demu4sb22kk8u" path="res://Entities/Actions/forward.tscn" id="4_gdk44"]
[ext_resource type="PackedScene" uid="uid://b1knwj45b5xah" path="res://Entities/Actions/go.tscn" id="5_u8lt2"]
[ext_resource type="Texture2D" uid="uid://boyalesvd2j7q" path="res://icon.svg" id="6_yurju"]

[sub_resource type="Animation" id="Animation_xoyoh"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Attack:rotation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [0.0]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Forward:rotation")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [0.0]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("Block:rotation")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [0.0]
}

[sub_resource type="Animation" id="Animation_77x7w"]
resource_name = "Actions"
length = 0.8
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Attack:rotation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.2, 0.4, 0.6),
"transitions": PackedFloat32Array(1, 1, 1, 1),
"update": 0,
"values": [0.0, 0.261799, 0.0, -0.261799]
}

[sub_resource type="Animation" id="Animation_62b6n"]
resource_name = "ShakeBlock"
length = 0.8
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Block:rotation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.2, 0.4, 0.6),
"transitions": PackedFloat32Array(1, 1, 1, 1),
"update": 0,
"values": [0.0, 0.261799, 0.0, -0.261799]
}

[sub_resource type="Animation" id="Animation_f4pg2"]
resource_name = "ShakeForward"
length = 0.8
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Forward:rotation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.2, 0.4, 0.6),
"transitions": PackedFloat32Array(1, 1, 1, 1),
"update": 0,
"values": [0.0, 0.261799, 0.0, -0.261799]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_f4pg2"]
_data = {
&"RESET": SubResource("Animation_xoyoh"),
&"ShakeAttack": SubResource("Animation_77x7w"),
&"ShakeBlock": SubResource("Animation_62b6n"),
&"ShakeForward": SubResource("Animation_f4pg2")
}

[node name="#1" type="Node2D"]
script = ExtResource("1_gdk44")

[node name="TilemapBottom" parent="." instance=ExtResource("1_nwf4x")]
position = Vector2(-1, -3)

[node name="Box" parent="." instance=ExtResource("3_nwf4x")]

[node name="Box2" parent="." instance=ExtResource("3_nwf4x")]
box_x = 625.0

[node name="Block" parent="." instance=ExtResource("2_yurju")]
position = Vector2(3219, 592)

[node name="Forward" parent="." instance=ExtResource("4_gdk44")]
position = Vector2(874, 774)

[node name="Attack" parent="." instance=ExtResource("1_8g7bl")]
position = Vector2(498, 764)

[node name="Go" parent="." instance=ExtResource("5_u8lt2")]
position = Vector2(347, 981)

[node name="Ref" type="Sprite2D" parent="."]
visible = false
position = Vector2(248, -218)
texture = ExtResource("6_yurju")

[node name="ActionAnimations" type="AnimationPlayer" parent="."]
libraries = {
&"": SubResource("AnimationLibrary_f4pg2")
}

[connection signal="atk_in" from="Box" to="Attack" method="_on_box_atk_in"]
[connection signal="atk_out" from="Box" to="." method="_on_box_atk_out"]
[connection signal="atk_out" from="Box" to="Attack" method="_on_box_atk_out"]
[connection signal="atk_in" from="Box2" to="Attack" method="_on_box_atk_in"]
[connection signal="atk_out" from="Box2" to="Attack" method="_on_box_atk_out"]
